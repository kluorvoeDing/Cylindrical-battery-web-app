/* minimal, clean, offline CSS */
:root{--bg:#fff;--fg:#0f172a;--muted:#64748b;--card:#f8fafc;--acc:#e2e8f0;--pri:#2563eb;--warn:#b45309;}
*{box-sizing:border-box}
body{margin:0;background:var(--bg);color:var(--fg);font:14px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Noto Sans,"Helvetica Neue",Arial}
.container{max-width:1200px;margin:0 auto;padding:16px}
.card{background:var(--card);border:1px solid var(--acc);border-radius:12px;padding:12px;margin-bottom:12px}
.title{font-weight:600;font-size:18px;margin:0 0 8px}
.grid1{display:grid;grid-template-columns:1fr;gap:10px}
.grid2{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}
.grid3{display:grid;grid-template-columns:repeat(3,1fr);gap:10px}
.grid4{display:grid;grid-template-columns:repeat(4,1fr);gap:10px}
.grid5{display:grid;grid-template-columns:repeat(5,1fr);gap:10px}
.grid6{display:grid;grid-template-columns:repeat(6,1fr);gap:10px}
label{display:block;font-size:12px;color:var(--muted);margin-bottom:4px}
input,select{width:100%;padding:8px 10px;border:1px solid var(--acc);border-radius:8px;background:#fff}
input[disabled]{background:#f1f5f9}
.btn{display:inline-flex;align-items:center;gap:6px;border:1px solid var(--acc);background:#fff;border-radius:8px;padding:8px 10px;cursor:pointer}
.btn.primary{background:var(--pri);color:#fff;border-color:var(--pri)}
.btn:disabled{opacity:.5;cursor:not-allowed}
.toolbar{display:flex;gap:8px;flex-wrap:wrap}
.warn{color:var(--warn);font-size:12px}
.tabs{display:flex;gap:8px;flex-wrap:wrap;margin:12px 0}
.tab{padding:6px 10px;border:1px solid var(--acc);border-radius:8px;background:#fff;cursor:pointer}
.tab.active{background:#e0e7ff;border-color:#c7d2fe}
/*.tabs {display:flex;gap:8px;flex-wrap:nowrap;overflow-x:auto;}*/
.flex{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
.right{margin-left:auto}
.small{font-size:12px;color:var(--muted)}
.table{width:100%;border-collapse:collapse}
.table th,.table td{padding:8px;border-top:1px solid var(--acc);text-align:left;font-size: 13px;}
/* Mass breakdown 表格中右側數字靠右對齊 */
.mass-grid .table td:nth-child(3),
.mass-grid .table td:nth-child(4) {
  text-align: right;
}
.table th{background:#eef2ff;font-weight:600}
.svgbox{width:100%;height:360px;background:#fff;border:1px solid var(--acc);border-radius:8px}
.split{display:grid;grid-template-columns:1fr 1fr;gap:12px}
@media(max-width:900px){.split{grid-template-columns:1fr}.grid4,.grid6{grid-template-columns:repeat(2,1fr)}}
.kpi{display:grid;grid-template-columns:repeat(4,1fr);gap:8px}
.kpi .box{background:#fff;border:1px solid var(--acc);border-radius:8px;padding:8px}
.kpi .k{font-size:12px;color:var(--muted)} .kpi .v{font-weight:700}
.legend{display:flex;gap:10px;flex-wrap:wrap;margin-top:6px}
.swatch{width:10px;height:10px;border-radius:2px}

/* New layout for mass breakdown grid and vertical split */
.mass-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 12px;
}
.split-col {
  display: flex;
  flex-direction: column;
  gap: 12px;
}
.mass-grid .svgbox {
  width: 100%;
  height: 200px;      /* 降低高度避免比例擠壓 */
}
/* 置頂工具列 */
.sticky-bar {
  position: sticky;
  top: 0;
  z-index: 1000;
  background: var(--bg);
  border-bottom: 1px solid var(--acc);
  padding: 8px 0;
}

/* tabs 與按鈕排列 */
.sticky-bar .tabs {
  display: inline-flex;
  flex-wrap: wrap;
  gap: 6px;
}

.sticky-tools {
  display: inline-flex;
  gap: 8px;
  margin-left: 12px;
  vertical-align: middle;
}
/* tabs 既有樣式保持不動；補強就地編輯時的輸入框外觀 */
.tabs .tab {
  display: inline-flex;
  align-items: center;
  min-width: 90px;
  height: 32px;
  padding: 6px 10px;
}

.tabs .tab.tab-edit {
  /* 與 .tab 外觀一致，避免破版 */
  border: 1px solid var(--acc);
  border-radius: 8px;
  background: #fff;
  cursor: text;
  /* 寬度在 JS 以按鈕實際寬度對齊 */
  height: 32px;
  padding: 6px 10px;
}

/* 聚焦時給明確邊界 */
.tabs .tab.tab-edit:focus {
  outline: 1px solid var(--pri);
}
